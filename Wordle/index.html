<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Wordle 게임</title>
        <link rel="stylesheet" href="../font.css">
        <link rel="stylesheet" href="./index.css">

        <body>
            <h2>Wordle Game</h2>
            <p>5글자 단어를 맞추는 게임입니다. 글자 하나씩 입력한 뒤, '제출' 버튼을 눌러서 비교해보세요!</p>
            <p>정답 기준<br>초록색 : 위치와 글자까지 정답 <br>노란색 : 글자만 정답 (위치 Wrong)<br>회색 : 없는 글자</p>
            <p>도전 횟수 :
                <label id="count">0</label>
            </p>
            <button>제출</button>
            <br>
            <input class="input" maxlength="1">
            <input class="input" maxlength="1">
            <input class="input" maxlength="1">
            <input class="input" maxlength="1">
            <input class="input" maxlength="1">

            <script>
                var answer = 'apple';
                var submitCount = 0; // 제출 횟수를 저장하는 변수
                var count = 5;

                document
                    .querySelector('button')
                    .addEventListener('click', function () {
                        if (submitCount < count) {
                            var input = document.querySelectorAll('.input');
                            for (var i = 0; i < 5; i++) {
                                if (input[i].value == answer[i]) {
                                    input[i].style.background = 'green';
                                } else if (answer.includes(input[i].value)) {
                                    input[i].style.background = 'yellow';
                                } else {
                                    input[i].style.background = 'lightgrey';
                                }

                                input[i]
                                    .classList
                                    .remove('input');
                            }
                            var template = `<div>
                        <input class = "input">
                        <input class = "input">
                        <input class = "input">
                        <input class = "input">
                        <input class = "input">                                                 
                        </div>
                        `;

                            if (submitCount < count - 1) {
                                document
                                    .querySelector('body')
                                    .insertAdjacentHTML('beforeend', template);

                            }
                            submitCount++; // 제출 횟수 증가
                            document
                                .getElementById('count')
                                .textContent = submitCount; // 횟수 업데이트
                        } else {
                            alert('더 이상 제출할 수 없습니다.');
                        }
                    });
            </script>
        </body>
    </html>